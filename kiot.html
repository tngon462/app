<!doctype html>
<html>
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<style>
body{font-family:sans-serif;background:#111;color:#fff;margin:0;padding:20px}
.total{font-size:72px;font-weight:bold}
.row{display:flex;justify-content:space-between;font-size:28px;padding:6px 0}
</style>
</head>
<body>

<div id="needPay" class="total">¥0</div>
<div id="remain"></div>
<div id="items"></div>

<script>
const ch = new BroadcastChannel("tngon_customer_display");

ch.onmessage = ev=>{
  const d = ev.data || {};

  document.getElementById("needPay").innerText =
    d.totals?.needPay || "¥0";

  document.getElementById("remain").innerText =
    "Còn lại: " + (d.totals?.remain || "");

  document.getElementById("items").innerHTML =
    (d.items||[]).map(x=>
      `<div class="row"><div>${x.name}</div><div>${x.price}</div></div>`
    ).join("");
};
</script>

</body>
</html>
